{"version":3,"file":"static/js/501.0cb22878.chunk.js","mappings":"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","sources":["services/localStorage.js","components/MovieDetails/MovieDetails.styled.jsx","components/MovieDetails/MovieDetails.jsx"],"sourcesContent":["export function getLocalStorage(key) {\n  try {\n    const savedData = localStorage.getItem(key) ?? '[]';\n    const parseDada = JSON.parse(savedData);\n    return parseDada;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport function setLocalStorage(key, value) {\n  try {\n    const savedData = getLocalStorage(key);\n    let newData;\n    let isAded;\n\n    if (savedData.some(data => data.id === value.id)) {\n      newData = savedData.filter(data => data.id !== value.id);\n      isAded = false;\n    } else {\n      newData = [...savedData, value];\n      isAded = true;\n    }\n    localStorage.setItem(key, JSON.stringify(newData));\n    return isAded;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n","import styled from 'styled-components';\nimport { Link, NavLink } from 'react-router-dom';\nimport { CgArrowLeftR } from 'react-icons/cg';\n\nexport const DetailWrapper = styled.div`\n  display: flex;\n  gap: 20px;\n  padding: 16px 0;\n  border-bottom: 2px solid #006dba;\n`;\n\nexport const Label = styled.span`\n  font-weight: 700;\n  display: block;\n  margin-bottom: 8px;\n`;\n\nexport const ScoreLabel = styled.span`\n  font-weight: 700;\n`;\n\nexport const IconArrowLeft = styled(CgArrowLeftR)`\n  font-size: 20px;\n  margin-right: 6px;\n`;\n\nexport const BackLink = styled(Link)`\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n  text-transform: uppercase;\n  color: #000000;\n  transition: color 200ms linear;\n\n  &:hover {\n    color: #006dba;\n  }\n`;\n\nexport const Thumb = styled.div`\n  width: 300px;\n  flex-shrink: 0;\n`;\n\nexport const Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 26px;\n`;\n\nexport const LinkList = styled.ul`\n  display: flex;\n  padding: 16px 0;\n  gap: 16px;\n  border-bottom: 2px solid #006dba;\n`;\n\nexport const StyledLink = styled(NavLink)`\n  display: block;\n  padding: 4px 8px;\n  font-size: 16px;\n  font-weight: 500;\n  text-decoration: none;\n  text-transform: uppercase;\n  color: #000000;\n  transition: color 200ms linear;\n\n  &:hover:not(.active) {\n    color: #006dba;\n  }\n\n  &.active {\n    color: #ffffff;\n    background: #006dba;\n    border-radius: 10px;\n  }\n`;\n\nexport const FavouriteBtn = styled.button`\n  display: flex;\n  padding: 10px 20px;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  border: 2px solid #ccc;\n  border-radius: 5px;\n  background-color: #fff;\n  color: #006dba;\n  font-size: 14px;\n  font-weight: 500;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: 200ms linear;\n\n  &.active {\n    background-color: #006dba;\n    border-color: #006dba;\n    color: #fff;\n  }\n\n  &:hover {\n    background-color: #006dba;\n    border-color: #006dba;\n    color: #fff;\n  }\n`;\n","import Container from 'components/Container/Container';\nimport Loader from 'components/Loader/Loader';\nimport { useEffect, useState } from 'react';\nimport { useParams, useLocation, Outlet } from 'react-router-dom';\nimport { getMovieDetails } from 'services/api';\nimport noPoster from '../../images/img-default.jpg';\nimport { getLocalStorage, setLocalStorage } from 'services/localStorage';\nimport {\n  BackLink,\n  Content,\n  DetailWrapper,\n  FavouriteBtn,\n  IconArrowLeft,\n  Label,\n  LinkList,\n  ScoreLabel,\n  StyledLink,\n  Thumb,\n} from './MovieDetails.styled';\n\nconst IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/w780';\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [isAddToFavourite, setIsAddToFavourite] = useState(false);\n  const params = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    setLoading(true);\n    getMovieDetails(params.movieId)\n      .then(setMovieDetails)\n      .finally(() => setLoading(false));\n  }, [params]);\n\n  useEffect(() => {\n    const savedData = getLocalStorage('favourite');\n    if (savedData && savedData.some(data => data.id === movieDetails?.id)) {\n      setIsAddToFavourite(true);\n    }\n  }, [movieDetails?.id]);\n\n  function addFavourite() {\n    const isAded = setLocalStorage('favourite', movieDetails);\n    setIsAddToFavourite(isAded);\n  }\n\n  if (!movieDetails) {\n    return <>{loading && <Loader />}</>;\n  }\n\n  const { poster_path, title, release_date, vote_average, overview, genres } =\n    movieDetails;\n\n  const imgUrl = poster_path ? `${IMAGE_BASE_URL}/${poster_path}` : noPoster;\n  const releaseDate = release_date.slice(0, 4);\n  const voteAverage = Math.floor(vote_average * 10);\n  const genresStr = genres.map(genre => genre.name).join(' ');\n  const backLink = location.state?.from ?? '/movies';\n\n  return (\n    <Container>\n      <BackLink to={backLink}>\n        <IconArrowLeft />\n        Go back\n      </BackLink>\n      <DetailWrapper>\n        <Thumb>\n          <img src={imgUrl} alt={title} width=\"300\" />\n        </Thumb>\n        <Content>\n          {title && (\n            <h1>\n              {title} ({releaseDate ? releaseDate : 'N/A'})\n            </h1>\n          )}\n\n          <p>\n            <ScoreLabel>User score:</ScoreLabel>{' '}\n            {voteAverage ? voteAverage + '%' : 'No information'}\n          </p>\n\n          <p>\n            <Label>Overview</Label>\n            {overview ? overview : 'No information'}\n          </p>\n\n          <p>\n            <Label>Genres</Label>\n            {genresStr ? genresStr : 'No information'}\n          </p>\n          <FavouriteBtn\n            className={isAddToFavourite && 'active'}\n            onClick={addFavourite}\n            type=\"button\"\n          >\n            {isAddToFavourite ? 'Remove from favorites' : 'Add to favorites'}\n          </FavouriteBtn>\n        </Content>\n      </DetailWrapper>\n      <LinkList>\n        <li>\n          <StyledLink to=\"cast\" state={{ from: backLink }}>\n            Cast\n          </StyledLink>\n        </li>\n        <li>\n          <StyledLink to=\"reviews\" state={{ from: backLink }}>\n            Reviews\n          </StyledLink>\n        </li>\n      </LinkList>\n      <Outlet />\n    </Container>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["getLocalStorage","key","savedData","localStorage","getItem","JSON","parse","error","console","log","message","DetailWrapper","styled","Label","ScoreLabel","IconArrowLeft","CgArrowLeftR","BackLink","Link","Thumb","Content","LinkList","StyledLink","NavLink","FavouriteBtn","useState","movieDetails","setMovieDetails","loading","setLoading","isAddToFavourite","setIsAddToFavourite","params","useParams","location","useLocation","useEffect","getMovieDetails","movieId","then","finally","some","data","id","Loader","poster_path","title","release_date","vote_average","overview","genres","imgUrl","noPoster","releaseDate","slice","voteAverage","Math","floor","genresStr","map","genre","name","join","backLink","state","from","Container","to","src","alt","width","className","onClick","isAded","value","newData","filter","setItem","stringify","setLocalStorage","type"],"sourceRoot":""}