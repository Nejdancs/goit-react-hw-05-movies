"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[501],{2501:function(n,e,r){r.r(e),r.d(e,{default:function(){return R}});var o=r(885),t=r(9198),i=r(1454),s=r(2791),a=r(6871),c=r(7433),l=r(4121),d=r(2982);function f(n){try{var e,r=null!==(e=localStorage.getItem(n))&&void 0!==e?e:"[]";return JSON.parse(r)}catch(o){console.log(o.message)}}var p,u,x,h,v,g,m,b,j,Z,w=r(168),k=r(6031),y=r(501),P=r(5899),_=k.ZP.div(p||(p=(0,w.Z)(["\n  display: flex;\n  gap: 20px;\n  padding: 16px 0;\n  border-bottom: 2px solid #006dba;\n"]))),S=k.ZP.span(u||(u=(0,w.Z)(["\n  font-weight: 700;\n  display: block;\n  margin-bottom: 8px;\n"]))),O=k.ZP.span(x||(x=(0,w.Z)(["\n  font-weight: 700;\n"]))),C=(0,k.ZP)(P.QUS)(h||(h=(0,w.Z)(["\n  font-size: 20px;\n  margin-right: 6px;\n"]))),U=(0,k.ZP)(y.rU)(v||(v=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n  text-transform: uppercase;\n  color: #000000;\n  transition: color 200ms linear;\n\n  &:hover {\n    color: #006dba;\n  }\n"]))),z=k.ZP.div(g||(g=(0,w.Z)(["\n  width: 300px;\n  flex-shrink: 0;\n"]))),I=k.ZP.div(m||(m=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 26px;\n"]))),N=k.ZP.ul(b||(b=(0,w.Z)(["\n  display: flex;\n  padding: 16px 0;\n  gap: 16px;\n  border-bottom: 2px solid #006dba;\n"]))),E=(0,k.ZP)(y.OL)(j||(j=(0,w.Z)(["\n  display: block;\n  padding: 4px 8px;\n  font-size: 16px;\n  font-weight: 500;\n  text-decoration: none;\n  text-transform: uppercase;\n  color: #000000;\n  transition: color 200ms linear;\n\n  &:hover:not(.active) {\n    color: #006dba;\n  }\n\n  &.active {\n    color: #ffffff;\n    background: #006dba;\n    border-radius: 10px;\n  }\n"]))),G=k.ZP.button(Z||(Z=(0,w.Z)(["\n  display: flex;\n  padding: 10px 20px;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  border: 2px solid #ccc;\n  border-radius: 5px;\n  background-color: #fff;\n  color: #006dba;\n  font-size: 14px;\n  font-weight: 500;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: 200ms linear;\n\n  &.active {\n    background-color: #006dba;\n    border-color: #006dba;\n    color: #fff;\n  }\n\n  &:hover {\n    background-color: #006dba;\n    border-color: #006dba;\n    color: #fff;\n  }\n"]))),J=r(184),R=function(){var n,e,r=(0,s.useState)(null),p=(0,o.Z)(r,2),u=p[0],x=p[1],h=(0,s.useState)(!1),v=(0,o.Z)(h,2),g=v[0],m=v[1],b=(0,s.useState)(!1),j=(0,o.Z)(b,2),Z=j[0],w=j[1],k=(0,a.UO)(),y=(0,a.TH)();if((0,s.useEffect)((function(){m(!0),(0,c.TP)(k.movieId).then(x).finally((function(){return m(!1)}))}),[k]),(0,s.useEffect)((function(){var n=f("favourite");n&&n.some((function(n){return n.id===(null===u||void 0===u?void 0:u.id)}))&&w(!0)}),[null===u||void 0===u?void 0:u.id]),!u)return(0,J.jsx)(J.Fragment,{children:g&&(0,J.jsx)(i.Z,{})});var P=u.poster_path,R=u.title,T=u.release_date,A=u.vote_average,F=u.overview,H=u.genres,L=P?"".concat("https://image.tmdb.org/t/p/w780","/").concat(P):l,M=T.slice(0,4),Q=Math.floor(10*A),q=H.map((function(n){return n.name})).join(" "),B=null!==(n=null===(e=y.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/movies";return(0,J.jsxs)(t.Z,{children:[(0,J.jsxs)(U,{to:B,children:[(0,J.jsx)(C,{}),"Go back"]}),(0,J.jsxs)(_,{children:[(0,J.jsx)(z,{children:(0,J.jsx)("img",{src:L,alt:R,width:"300"})}),(0,J.jsxs)(I,{children:[R&&(0,J.jsxs)("h1",{children:[R," (",M,")"]}),Q&&(0,J.jsxs)("p",{children:[(0,J.jsx)(O,{children:"User score:"})," ",Q,"%"]}),F&&(0,J.jsxs)("p",{children:[(0,J.jsx)(S,{children:"Overview"}),F]}),q&&(0,J.jsxs)("p",{children:[(0,J.jsx)(S,{children:"Genres"}),q]}),(0,J.jsx)(G,{className:Z&&"active",onClick:function(){var n=function(n,e){try{var r,o,t=f(n);return t.some((function(n){return n.id===e.id}))?(r=t.filter((function(n){return n.id!==e.id})),o=!1):(r=[].concat((0,d.Z)(t),[e]),o=!0),localStorage.setItem(n,JSON.stringify(r)),o}catch(i){console.log(i.message)}}("favourite",u);w(n)},type:"button",children:Z?"Remove from favorites":"Add to favorites"})]})]}),(0,J.jsxs)(N,{children:[(0,J.jsx)("li",{children:(0,J.jsx)(E,{to:"cast",state:{from:B},children:"Cast"})}),(0,J.jsx)("li",{children:(0,J.jsx)(E,{to:"reviews",state:{from:B},children:"Reviews"})})]}),(0,J.jsx)(a.j3,{})]})}}}]);
//# sourceMappingURL=501.618d7ed5.chunk.js.map