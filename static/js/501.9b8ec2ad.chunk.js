"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[501],{2501:function(n,e,o){o.r(e),o.d(e,{default:function(){return J}});var r=o(885),t=o(9198),i=o(1454),s=o(2791),a=o(6871),c=o(7433),l=o(4121),d=o(2982);function f(n){try{var e,o=null!==(e=localStorage.getItem(n))&&void 0!==e?e:"[]";return JSON.parse(o)}catch(r){console.log(r.message)}}var p,u,x,h,v,m,g,b,j,Z,w=o(168),k=o(6031),y=o(501),P=o(5899),_=k.ZP.div(p||(p=(0,w.Z)(["\n  display: flex;\n  gap: 20px;\n  padding: 16px 0;\n  border-bottom: 2px solid #006dba;\n"]))),S=k.ZP.span(u||(u=(0,w.Z)(["\n  font-weight: 700;\n  display: block;\n  margin-bottom: 8px;\n"]))),N=k.ZP.span(x||(x=(0,w.Z)(["\n  font-weight: 700;\n"]))),O=(0,k.ZP)(P.QUS)(h||(h=(0,w.Z)(["\n  font-size: 20px;\n  margin-right: 6px;\n"]))),C=(0,k.ZP)(y.rU)(v||(v=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n  font-weight: 500;\n  text-transform: uppercase;\n  color: #000000;\n  transition: color 200ms linear;\n\n  &:hover {\n    color: #006dba;\n  }\n"]))),U=k.ZP.div(m||(m=(0,w.Z)(["\n  width: 300px;\n  flex-shrink: 0;\n"]))),z=k.ZP.div(g||(g=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 26px;\n"]))),I=k.ZP.ul(b||(b=(0,w.Z)(["\n  display: flex;\n  padding: 16px 0;\n  gap: 16px;\n  border-bottom: 2px solid #006dba;\n"]))),A=(0,k.ZP)(y.OL)(j||(j=(0,w.Z)(["\n  display: block;\n  padding: 4px 8px;\n  font-size: 16px;\n  font-weight: 500;\n  text-decoration: none;\n  text-transform: uppercase;\n  color: #000000;\n  transition: color 200ms linear;\n\n  &:hover:not(.active) {\n    color: #006dba;\n  }\n\n  &.active {\n    color: #ffffff;\n    background: #006dba;\n    border-radius: 10px;\n  }\n"]))),E=k.ZP.button(Z||(Z=(0,w.Z)(["\n  display: flex;\n  padding: 10px 20px;\n  justify-content: center;\n  align-items: center;\n  border: none;\n  border: 2px solid #ccc;\n  border-radius: 5px;\n  background-color: #fff;\n  color: #006dba;\n  font-size: 14px;\n  font-weight: 500;\n  text-transform: uppercase;\n  cursor: pointer;\n  transition: 200ms linear;\n\n  &.active {\n    background-color: #006dba;\n    border-color: #006dba;\n    color: #fff;\n  }\n\n  &:hover {\n    background-color: #006dba;\n    border-color: #006dba;\n    color: #fff;\n  }\n"]))),G=o(184),J=function(){var n,e,o=(0,s.useState)(null),p=(0,r.Z)(o,2),u=p[0],x=p[1],h=(0,s.useState)(!1),v=(0,r.Z)(h,2),m=v[0],g=v[1],b=(0,s.useState)(!1),j=(0,r.Z)(b,2),Z=j[0],w=j[1],k=(0,a.UO)(),y=(0,a.TH)();if((0,s.useEffect)((function(){g(!0),(0,c.TP)(k.movieId).then(x).finally((function(){return g(!1)}))}),[k]),(0,s.useEffect)((function(){var n=f("favourite");n&&n.some((function(n){return n.id===(null===u||void 0===u?void 0:u.id)}))&&w(!0)}),[null===u||void 0===u?void 0:u.id]),!u)return(0,G.jsx)(G.Fragment,{children:m&&(0,G.jsx)(i.Z,{})});var P=u.poster_path,J=u.title,R=u.release_date,T=u.vote_average,F=u.overview,H=u.genres,L=P?"".concat("https://image.tmdb.org/t/p/w780","/").concat(P):l,M=R.slice(0,4),Q=Math.floor(10*T),q=H.map((function(n){return n.name})).join(" "),B=null!==(n=null===(e=y.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/movies";return(0,G.jsxs)(t.Z,{children:[(0,G.jsxs)(C,{to:B,children:[(0,G.jsx)(O,{}),"Go back"]}),(0,G.jsxs)(_,{children:[(0,G.jsx)(U,{children:(0,G.jsx)("img",{src:L,alt:J,width:"300"})}),(0,G.jsxs)(z,{children:[J&&(0,G.jsxs)("h1",{children:[J," (",M||"N/A",")"]}),(0,G.jsxs)("p",{children:[(0,G.jsx)(N,{children:"User score:"})," ",Q?Q+"%":"No information"]}),(0,G.jsxs)("p",{children:[(0,G.jsx)(S,{children:"Overview"}),F||"No information"]}),(0,G.jsxs)("p",{children:[(0,G.jsx)(S,{children:"Genres"}),q||"No information"]}),(0,G.jsx)(E,{className:Z&&"active",onClick:function(){var n=function(n,e){try{var o,r,t=f(n);return t.some((function(n){return n.id===e.id}))?(o=t.filter((function(n){return n.id!==e.id})),r=!1):(o=[].concat((0,d.Z)(t),[e]),r=!0),localStorage.setItem(n,JSON.stringify(o)),r}catch(i){console.log(i.message)}}("favourite",u);w(n)},type:"button",children:Z?"Remove from favorites":"Add to favorites"})]})]}),(0,G.jsxs)(I,{children:[(0,G.jsx)("li",{children:(0,G.jsx)(A,{to:"cast",state:{from:B},children:"Cast"})}),(0,G.jsx)("li",{children:(0,G.jsx)(A,{to:"reviews",state:{from:B},children:"Reviews"})})]}),(0,G.jsx)(a.j3,{})]})}}}]);
//# sourceMappingURL=501.9b8ec2ad.chunk.js.map